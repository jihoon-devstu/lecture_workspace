<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #stage{
            width: 1000px;
            height: 800px;
            margin: auto;
            background-image: url(../../images/gallerxy/bg.png);
            position: relative;
        }


    </style>

    <script>
        let bgY=0; // 배경 이미지의 y축 포지션의 값을 누적할 전역 변수

        //스테이지에 적용된 css중에서 background-position의 x,y 중 y값을 만들자 (y값 증가 _ 배경이 내려와야 하므로)
        function bgEffect(){
            let stage = document.getElementById("stage");
            bgY+=2; //2씩 누적
            stage.style.backgroundPosition=`0px ${bgY}px`;

            //프로그램이 가동되자 마자 하고싶은 초기화 작업을 위한 함수
        }

        function createEnemy(){
           
            //먼저 이미지 1개를 생성해본다
            for(let a=1;a<=5;a++){
            for(let i=1;i<=20;i++) { 
            let img=document.createElement("img"); // img 작성효과와 동일
            img.src = "../../images/gallerxy/enemy2.png";
            img.style.position="absolute"; // 부모를 기준으로 하는 위치 속성
            img.style.left=150+(i*30)+"px";
            img.style.top=200+(a*30)+"px";
            // 이미지를 stage에 부착하자!! (stage의 자식요소로 추가하자)
            let stage = document.getElementById("stage");
            stage.appendChild(img);
                }
        }
    }

        function init(){
            //적군 생성
            createEnemy();
            //개발자 대신 자동으로 지정된 함수를 , 지정한 시간 간격으로 호출해 주는 
            // 타이머 함수 호출하자
            
            setInterval("bgEffect()" ,10 ); //1/1000 초까지 표현 가능
            
        }

    </script>
</head>
<body onload="init()">
    
    <div id="stage"></div>

</body>
</html>