<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        body{margin: 0;}
        #wrapper{
            height: 900px;
            background-image: url(../../images/night/night.jpg);
            background-size: 100% 100%;
            position: relative;
        }

    </style>
    
    <script>
        let a = 0.1;
        let targetX = 100, targetY=100;
        let img;
        let count=0; // 반딧불의 위치를 언제 바꿀지를 결정짓는 변수
        
        
        function init(){
            img = document.createElement("img");
            img.src=("../../images/night/bug.png");
            img.style.width=40+"px";

            img.style.position="absolute";
            img.style.left=100+"px";
            img.style.top=100+"px";

            //wrapper에 부착

            document.getElementById("wrapper").appendChild(img);

            
        }

        //반디불 움직이기
        function move(){
            img.style.left=parseFloat(img.style.left)+a*(targetX-parseFloat(img.style.left))+"px"
            img.style.top=parseFloat(img.style.top)+a*(targetY-parseFloat(img.style.top))+"px"
        }
        
        function gameLoop(){
            
            move();
        }

        window.addEventListener("load",function(){
            init();

            let wrapper = document.getElementById("wrapper");
            wrapper.addEventListener("mousedown",function(){
                targetX = event.clientX;
                targetY = event.clientY;
            })
            setInterval("gameLoop()",10);

        })

    </script>
</head>
<body>

    <div id="wrapper">

    </div>


    
</body>
</html>